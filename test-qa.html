<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groq Q&A Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        textarea, input[type="text"] {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 14px;
            resize: vertical;
        }
        textarea {
            height: 120px;
        }
        input[type="text"] {
            height: 50px;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            margin-bottom: 20px;
            width: 100%;
        }
        button:hover {
            background: #0056b3;
        }
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .result {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #007bff;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border-left-color: #dc3545;
        }
        .loading {
            color: #007bff;
            font-style: italic;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .stat-card {
            background: #e9ecef;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #007bff;
        }
        .stat-label {
            font-size: 12px;
            color: #6c757d;
            text-transform: uppercase;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ü§ñ Groq Q&A Test</h1>
        <p>Ask questions about content and get AI-powered answers using Groq:</p>
        
        <div class="form-group">
            <label for="contentInput">Content to Analyze:</label>
            <textarea id="contentInput" placeholder="Paste or type the content you want to ask questions about..."></textarea>
        </div>
        
        <div class="form-group">
            <label for="questionInput">Your Question:</label>
            <input type="text" id="questionInput" placeholder="Ask any question about the content above...">
        </div>
        
        <button id="askBtn" onclick="askQuestion()">üöÄ Ask Groq AI</button>
        
        <div id="result"></div>
    </div>

    <script>
        async function askQuestion() {
            const content = document.getElementById('contentInput').value.trim();
            const question = document.getElementById('questionInput').value.trim();
            const button = document.getElementById('askBtn');
            const resultDiv = document.getElementById('result');
            
            if (!content || !question) {
                resultDiv.innerHTML = '<div class="result error">Please provide both content and a question.</div>';
                return;
            }
            
            // Show loading state
            button.disabled = true;
            button.textContent = '‚è≥ Getting Answer...';
            resultDiv.innerHTML = '<div class="result loading">Asking Groq AI for an answer...</div>';
            
            try {
                const response = await fetch('http://localhost:5000/api/qa', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ question, content })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    resultDiv.innerHTML = `
                        <div class="result">
                            <h3>‚ú® Answer Generated:</h3>
                            <div class="stats">
                                <div class="stat-card">
                                    <div class="stat-value">${data.model}</div>
                                    <div class="stat-label">Model</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">${data.content_length}</div>
                                    <div class="stat-label">Content Chars</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value">${data.answer_length}</div>
                                    <div class="stat-label">Answer Chars</div>
                                </div>
                            </div>
                            <hr>
                            <h4>‚ùì Question:</h4>
                            <p><strong>${data.question}</strong></p>
                            <h4>üí° Answer:</h4>
                            <div style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin-top: 10px;">
                                ${data.answer}
                            </div>
                        </div>
                    `;
                } else {
                    resultDiv.innerHTML = `<div class="result error">‚ùå Error: ${data.error}</div>`;
                }
            } catch (error) {
                resultDiv.innerHTML = `<div class="result error">‚ùå Network Error: ${error.message}</div>`;
            } finally {
                // Reset button state
                button.disabled = false;
                button.textContent = 'üöÄ Ask Groq AI';
            }
        }
        
        // Add sample content and question for testing
        document.getElementById('contentInput').value = `Artificial Intelligence (AI) has emerged as one of the most transformative technologies of the 21st century. It encompasses machine learning, natural language processing, computer vision, and robotics. AI systems can now perform tasks that traditionally required human intelligence, such as recognizing speech, making decisions, and solving complex problems.

Machine learning, a subset of AI, enables computers to learn and improve from experience without being explicitly programmed. Deep learning, a type of machine learning, uses neural networks with multiple layers to process data and identify patterns. This technology has revolutionized fields like image recognition, natural language processing, and autonomous vehicles.

The applications of AI are vast and growing rapidly. In healthcare, AI helps diagnose diseases, predict patient outcomes, and develop personalized treatment plans. In finance, it's used for fraud detection, algorithmic trading, and risk assessment. In transportation, AI powers self-driving cars and optimizes traffic flow. In education, it provides personalized learning experiences and automates administrative tasks.

However, the rise of AI also brings challenges and concerns. There are worries about job displacement as automation increases. Privacy concerns arise from the vast amounts of data AI systems require. Ethical questions emerge about decision-making algorithms and potential biases. There are also concerns about AI safety and the potential for misuse.

The future of AI holds immense promise. We can expect more sophisticated AI systems that can understand context, reason, and interact more naturally with humans. AI will likely become more integrated into our daily lives, from smart homes to wearable devices. The key will be developing AI responsibly, ensuring it benefits humanity while addressing the challenges it presents.`;

        document.getElementById('questionInput').value = 'What are the main applications of AI in healthcare?';
    </script>
</body>
</html>
